<a class="pull-tab btn btn-large btn-primary" ng-class="{shift: showPalette}" ng-click="showPalette=!showPalette"><i class="icon-plus"></i> Add object</a>
<div id="objects" ng-class="{show: showPalette}" droppable>
        <h2 class="section-head">Add an object<span class="hint">Drag and drop an object onto the canvas</span></h2>
        <ul id="objects-list">
            <li>
                <div draggable class="table-wrap" data-table-shape="circle" data-generator="true">
                    <div class="table-number">Circular</div>
                    <div class="table"></div><!-- .table -->
                </div>
            </li>
            <li>
                <div draggable class="table-wrap" data-table-shape="rect" data-generator="true">
                    <div class="table-number">Rectangular</div>
                    <div class="table"></div><!-- .table -->
                </div>
            </li>
        </ul>
</div>
<div id="canvas" class="container" droppable canvas ng-class="{fadeIn: showPalette}">
    <div draggable ng-repeat="table in tables" class="table-wrap animated bounceIn" data-table-shape="{{table.shape}}" data-table-size="{{table.seats.length}}" style="top: {{table.yPos}}; left: {{table.xPos}};">
        <div class="table-number">{{table.name}}</div>
        <div class="table" style="-webkit-transform: rotate({{table.rotate}}); -moz-transform: rotate({{table.rotate}}); -ms-transform: rotate({{table.rotate}}); -o-transform: rotate({{table.rotate}}); transform: rotate({{table.rotate}});">
            <ul class="seat-wrap">
                <li ng-repeat="seat in table.seats" class="seat" data-seat-number="{{$index+1}}"><a ng-class="{occupied: occupiedSeat}" title="{{getGuest(table, $index, 'name')}}" ng-click="setGuest(table, $index)"></a></li>
            </ul>
        </div><!-- .table -->
        <div class="table-controls">
            <button ng-disabled="disableTableControls" ng-click="removeTable(table)" ng-class="{disabled: disableTableControls}" class="btn btn-danger" title="Delete table"><i class="icon-trash"></i></button>
            <button ng-disabled="disableTableControls" ng-click="rotateTable(table, 'ccw')" ng-class="{disabled: disableTableControls}" class="btn rotate-table ccw" title="Rotate left"><i class="icon-undo"></i></button>
            <button ng-disabled="disableTableControls" ng-click="rotateTable(table, 'cw')" ng-class="{disabled: disableTableControls}" class="btn rotate-table cw" title="Rotate right"><i class="icon-repeat"></i></button>
            <button ng-disabled="disableTableControls" ng-click="editTable(table)" ng-class="{disabled: disableTableControls}" class="btn"><i class="icon-edit" title="Edit table"></i></button>
        </div><!-- .table-controls -->
    </div><!-- .table-wrap -->


    <edit-seat></edit-seat>        

    <div id="edit-table" ui-modal ng-model="showEditTable">
        <form name="myForm">

        <div class="modal-header">
            <a data-dismiss="modal" class="close"><i class="icon-remove"></i></a>
            <h2 class="section-head">{{editTableFormTitle}} table<span class="hint">If you're not sure about an option, you can always edit it later!</span></h2>
        </div>

        <div class="modal-body">
            Table Name:<br>
            <input ng-model="editingTable.name" placeholder="Give your table a name!" /><br><br>

            <button ng-click="addSeat()" class="btn btn-primary"><i class="icon-plus"></i> Add seat</button>
            <br><br>
            Guests sitting at this table:<br>
            <ul class="table-seats" ui-sortable ng-model="editingTable.seats">
                <li ng-repeat="seat in editingTable.seats">
                    <select class="guest-select" ui-select2 data-placeholder="Add a guest..." ng-model="editingTable.seats[$index].guestId">
                      <option></option>
                      <option ng-repeat="guest in guests" value="{{guest._id.$oid}}">{{guest.name}}</option>
                    </select>
                    <a class="delete-seat" ng-click="removeSeat($index)"><i class="icon-trash icon-large"></i></a>
                </li>
            </ul>
        </div>

        <div class="modal-footer">
            <button class="pull-left btn btn-danger" ng-hide="!originalTable" ng-click="removeTable(originalTable)"><i class="icon-trash"></i> Delete table</button>
            <button class="btn" data-dismiss="modal">Cancel</button>
            <button ng-disabled="tableIsClean()" class="btn btn-success" ng-click="updateTable()"><i class="icon-ok"></i> {{editTableFormTitle}} table</button>
        </div>
         </form>
    </div>

</div><!-- #canvas -->